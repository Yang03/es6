{"version":3,"sources":["webpack:///./src/callback/index.js"],"names":["request","url","callback","delay","req","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","setTimeout","send","getStory","data","JSON","parse","addTitle","heading","time","chapterUrls","forEach","value","chapter","addChapter","html","dom","document","getElementById","innerHTML","content","p","createElement","appendChild"],"mappings":";;;;;;AAAA,UAASA,OAAT,CAAiBC,GAAjB,EAAsBC,QAAtB,EAAgCC,KAAhC,EAAuC;AACnC,SAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,SAAIE,IAAJ,CAAS,KAAT,EAAgBL,GAAhB;AACAG,SAAIG,kBAAJ,GAAyB,YAAU;AAC/B,aAAIH,IAAII,UAAJ,IAAkB,CAAtB,EAAyB;AACrB,iBAAIJ,IAAIK,MAAJ,IAAc,GAAlB,EAAuB;AAClBP,6BAAYA,SAAS,EAAC,UAAW,CAAZ,EAAe,QAAQE,IAAIM,YAA3B,EAAT,CAAZ;AACJ,cAFD,MAEO;AACHR,6BAAYA,SAAS,EAAC,UAAW,CAAC,CAAb,EAAgB,QAAQ,cAAxB,EAAT,CAAZ;AACH;AACJ;AACJ,MARD;AASA,SAAIC,KAAJ,EAAW;AACPQ,oBAAW,YAAW;AAClBP,iBAAIQ,IAAJ;AACH,UAFD,EAEGT,KAFH;AAGH,MAJD,MAIO;AACHC,aAAIQ,IAAJ;AACH;AAEJ;;AAED,UAASC,QAAT,GAAoB;AAChBb,aAAQ,uBAAR,EAAiC,UAAUU,YAAV,EAAwB;AACrD,aAAIA,aAAaD,MAAb,IAAuB,CAA3B,EAA8B;AAC1B,iBAAIK,OAAOC,KAAKC,KAAL,CAAWN,aAAaI,IAAxB,CAAX;AACAG,sBAASH,KAAKI,OAAd;AACA,iBAAIC,OAAO,CAAX;AACAL,kBAAKM,WAAL,CAAiBC,OAAjB,CAAyB,UAASC,KAAT,EAAgB;AACrCH,yBAAO,IAAP;AACAnB,yBAAQ,gBAAgBsB,KAAxB,EAA+B,UAASlB,GAAT,EAAa;AACxC,yBAAImB,UAAUR,KAAKC,KAAL,CAAWZ,IAAIU,IAAf,CAAd;AACAU,gCAAWD,QAAQE,IAAnB;AACH,kBAHD,EAGGN,IAHH;AAIH,cAND;AAOH;AACJ,MAbD;AAcH;;AAED,UAASF,QAAT,CAAkBQ,IAAlB,EAAwB;AACpB,SAAIC,MAAMC,SAASC,cAAT,CAAwB,OAAxB,CAAV;AACAF,SAAIG,SAAJ,GAAgBJ,IAAhB;AACH;;AAED,UAASD,UAAT,CAAoBM,OAApB,EAA6B;AACzB,SAAIJ,MAAMC,SAASC,cAAT,CAAwB,SAAxB,CAAV;AACA,SAAIG,IAAIJ,SAASK,aAAT,CAAuB,GAAvB,CAAR;AACAD,OAAEF,SAAF,GAAcC,OAAd;AACAJ,SAAIO,WAAJ,CAAgBF,CAAhB;AACH;;AAEDlB,Y","file":"callback/index.js","sourcesContent":["function request(url, callback, delay) {\n    var req = new XMLHttpRequest()\n    req.open('get', url)\n    req.onreadystatechange = function(){\n        if (req.readyState == 4) {\n            if (req.status == 200) {\n                 callback && callback({'status' : 1, 'data': req.responseText})\n            } else {\n                callback && callback({'status' : -1, 'data': 'request fail'})\n            }\n        }\n    }\n    if (delay) {\n        setTimeout(function() {\n            req.send()\n        }, delay)\n    } else {\n        req.send()\n    }\n\n}\n\nfunction getStory() {\n    request('../../data/story.json', function (responseText) {\n        if (responseText.status == 1) {\n            var data = JSON.parse(responseText.data)\n            addTitle(data.heading)\n            var time = 0;\n            data.chapterUrls.forEach(function(value) {\n                time+= 2000\n                request('../../data/' + value, function(req){\n                    var chapter = JSON.parse(req.data)\n                    addChapter(chapter.html)\n                }, time)\n            })\n        }\n    })\n}\n\nfunction addTitle(html) {\n    var dom = document.getElementById('title')\n    dom.innerHTML = html\n}\n\nfunction addChapter(content) {\n    var dom = document.getElementById('content')\n    var p = document.createElement('p');\n    p.innerHTML = content;\n    dom.appendChild(p);\n}\n\ngetStory()\n\n\n\n// WEBPACK FOOTER //\n// ./src/callback/index.js"],"sourceRoot":""}